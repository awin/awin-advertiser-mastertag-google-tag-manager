___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Awin Advertiser Mastertag",
  "categories": ["AFFILIATE_MARKETING", "ADVERTISING", "ATTRIBUTION"],
  "brand": {
    "id": "github.com_EdinCuturic",
    "displayName": "Awin",
    "thumbnail": "data:image/png;base64,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\u003d"
  },
  "description": "The Mastertag is a JavaScript library containing all functions required for Awin tracking solution.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "advertiserId",
    "displayName": "Advertiser id",
    "simpleValueType": true
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

// Enter your template code here.
const injectScript = require('injectScript');
const encodeUri = require('encodeUri');

const url = 'https://www.dwin1.com/' + encodeUri(data.advertiserId) + '.js';
injectScript(url,data.gtmOnSuccess(),data.gtmOnFailure());

___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://*.dwin1.com/"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 07/06/2022, 12:36:03
